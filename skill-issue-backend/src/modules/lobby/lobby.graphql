enum TeamSide {
  A
  B
}

type GameLobbyRule {
  configMode: String!
  fixedTeamCount: Int
  fixedPlayersPerTeam: Int
  minTeamCount: Int
  maxTeamCount: Int
  minPlayersPerTeam: Int
  maxPlayersPerTeam: Int
  allowCustomTeams: Boolean!
  allowCustomPlayersPerTeam: Boolean!
  minWagerCents: Int!
  maxWagerCents: Int!
}

type Game {
  id: ID!
  key: String!
  name: String!
  category: String!
  isActive: Boolean!
  lobbyRule: GameLobbyRule!
}

type Lobby {
  id: ID!
  gameId: ID!
  game: String!
  stakePerPlayerCents: Int!
  teamCount: Int!
  playersPerTeam: Int!
  teamAUserIds: [String!]!
  teamBUserIds: [String!]!
  status: String!
}

input CreateLobbyInput {
  gameId: ID!
  stakePerPlayerCents: Int!
  teamCount: Int
  playersPerTeam: Int
}

input JoinLobbyInput {
  lobbyId: ID!
  teamSide: TeamSide!
}

extend type Query {
  games: [Game!]!
  lobbies: [Lobby!]!
}

extend type Mutation {
  createLobby(input: CreateLobbyInput!): Lobby!
  joinLobby(input: JoinLobbyInput!): Lobby!
}
